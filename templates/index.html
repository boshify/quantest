<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTC Backtester</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Parameters Panel -->
            <div class="col-md-3 parameters-panel">
                <h3>Backtest Parameters</h3>
                <form id="backtestForm">
                    <div class="mb-3">
                        <h4>General Settings</h4>
                        <div class="form-group">
                            <label for="symbol">Symbol</label>
                            <input type="text" class="form-control" id="symbol" value="BTC/USDT">
                        </div>
                        <div class="form-group">
                            <label for="timeframe">Timeframe</label>
                            <select class="form-control" id="timeframe">
                                <option value="1m">1 minute</option>
                                <option value="5m">5 minutes</option>
                                <option value="15m">15 minutes</option>
                                <option value="1h" selected>1 hour</option>
                                <option value="4h">4 hours</option>
                                <option value="1d">1 day</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="limit">Number of Candles</label>
                            <input type="number" class="form-control" id="limit" value="500">
                        </div>
                    </div>

                    <div class="mb-3">
                        <h4>Strategy Parameters</h4>
                        <div class="form-group">
                            <label for="swing_period">Swing Period</label>
                            <input type="number" class="form-control" id="swing_period" value="1">
                        </div>
                        <div class="form-group">
                            <label for="external_liquidity_period">External Liquidity Period</label>
                            <input type="number" class="form-control" id="external_liquidity_period" value="50">
                        </div>
                        <div class="form-group">
                            <label for="liquidity_threshold">Liquidity Threshold</label>
                            <input type="number" class="form-control" id="liquidity_threshold" value="0.99" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="sweep_period">Sweep Period</label>
                            <input type="number" class="form-control" id="sweep_period" value="3">
                        </div>
                        <div class="form-group">
                            <label for="mss_threshold">MSS Threshold</label>
                            <input type="number" class="form-control" id="mss_threshold" value="1.5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="tp_period">Take Profit Period</label>
                            <input type="number" class="form-control" id="tp_period" value="10">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">Run Backtest</button>
                </form>
            </div>

            <!-- Results Panel -->
            <div class="col-md-9 results-panel">
                <h3>Backtest Results</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div class="metrics-card">
                            <h4>Performance Metrics</h4>
                            <div id="metrics"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="metrics-card">
                            <h4>Trade Statistics</h4>
                            <div id="tradeStats"></div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="chart-card">
                            <h4>Equity Curve</h4>
                            <div id="equityCurve"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', path='/script.js') }}"></script>
</body>
</html> 