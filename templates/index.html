<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Backtester</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/static/styles.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Parameters Panel -->
            <div class="col-md-3 parameters-panel">
                <div class="panel-header">
                    <h3><i class="fas fa-sliders-h"></i> Backtest Parameters</h3>
                </div>
                <form id="backtestForm">
                    <div class="mb-3">
                        <h4><i class="fas fa-cog"></i> General Settings</h4>
                        <div class="form-group">
                            <label for="symbol">Symbol <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <select class="form-control" id="symbol">
                                <option value="BTC/USDT">Loading symbols...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="timeframe">Timeframe <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <select class="form-control" id="timeframe">
                                <option value="1m">1 minute</option>
                                <option value="5m">5 minutes</option>
                                <option value="15m">15 minutes</option>
                                <option value="1h" selected>1 hour</option>
                                <option value="4h">4 hours</option>
                                <option value="1d">1 day</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="limit">Number of Candles <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="range" class="form-range" id="limit" min="100" max="1000" value="500">
                            <div class="range-value"><span id="limitValue">500</span> candles</div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <h4><i class="fas fa-chart-line"></i> Strategy Parameters</h4>
                        <div class="form-group">
                            <label for="swing_period">Swing Period <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="number" class="form-control" id="swing_period" value="1" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label for="external_liquidity_period">External Liquidity Period <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="number" class="form-control" id="external_liquidity_period" value="50" min="10" max="200">
                        </div>
                        <div class="form-group">
                            <label for="liquidity_threshold">Liquidity Threshold <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="range" class="form-range" id="liquidity_threshold" min="0.95" max="0.999" step="0.001" value="0.99">
                            <div class="range-value"><span id="liquidityThresholdValue">0.99</span></div>
                        </div>
                        <div class="form-group">
                            <label for="sweep_period">Sweep Period <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="number" class="form-control" id="sweep_period" value="3" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label for="mss_threshold">MSS Threshold <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="range" class="form-range" id="mss_threshold" min="1.0" max="3.0" step="0.1" value="1.5">
                            <div class="range-value"><span id="mssThresholdValue">1.5</span></div>
                        </div>
                        <div class="form-group">
                            <label for="tp_period">TP Period <i class="fas fa-info-circle" data-bs-toggle="tooltip" title=""></i></label>
                            <input type="number" class="form-control" id="tp_period" value="10" min="1" max="50">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary w-100">
                        <i class="fas fa-play"></i> Run Backtest
                    </button>
                </form>
            </div>

            <!-- Results Panel -->
            <div class="col-md-9 results-panel">
                <div class="panel-header">
                    <h3><i class="fas fa-chart-bar"></i> Backtest Results</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="metrics-card">
                            <h4><i class="fas fa-tachometer-alt"></i> Performance Metrics</h4>
                            <div id="metrics"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="metrics-card">
                            <h4><i class="fas fa-list-ol"></i> Trade Statistics</h4>
                            <div id="tradeStats"></div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="chart-card">
                            <h4><i class="fas fa-chart-line"></i> Equity Curve</h4>
                            <div id="equityCurve"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/script.js"></script>
</body>
</html> 